(()=>{"use strict";class s{constructor({appName:e,appIconUrl:t,assetUrl:n,showErrorMessageForUnsupportedBrowsers:i,allowUserToCloseModal:r,maxModalDisplayCount:o}){this.appName=e,this._assertArg("appName","string"==typeof this.appName&&this.appName.length>0),this.appIconUrl=t,this._assertArg("appIconUrl","string"==typeof this.appIconUrl&&this.appIconUrl.length>0),this.assetUrl=n,this._assertArg("assetUrl","string"==typeof this.assetUrl&&this.assetUrl.length>0),this.showErrorMessageForUnsupportedBrowsers=void 0===i?s.SHOW_ERRMSG_UNSUPPORTED.ALL:i,this._assertArg("showErrorMessageForUnsupportedBrowsers",Object.values(s.SHOW_ERRMSG_UNSUPPORTED).includes(this.showErrorMessageForUnsupportedBrowsers)),this.allowUserToCloseModal=void 0!==r&&r,this._assertArg("allowUserToCloseModal","boolean"==typeof this.allowUserToCloseModal),this.maxModalDisplayCount=void 0===o?-1:o,this._assertArg("maxModalDisplayCount",Number.isInteger(this.maxModalDisplayCount)),this.closeEventListener=null}isStandAlone(){return window.navigator.standalone||window.matchMedia("(display-mode: standalone)").matches}isDeviceAndroid(){return navigator.userAgent.match(/Android/)}isDeviceIOS(){return navigator.userAgent.match(/iPhone|iPad|iPod/)}isBrowserIOSSafari(){return this.isDeviceIOS()&&window.navigator.userAgent.match(/Safari/)&&!this.isBrowserIOSChrome()&&!this.isBrowserIOSFirefox()&&!this.isBrowserIOSInAppFacebook()&&!this.isBrowserIOSInAppLinkedin()&&!this.isBrowserIOSInAppInstagram()&&!this.isBrowserIOSInAppThreads()&&!this.isBrowserIOSInAppTwitter()}isBrowserIOSChrome(){return this.isDeviceIOS()&&navigator.userAgent.match(/CriOS/)}isBrowserIOSFirefox(){return this.isDeviceIOS()&&window.navigator.userAgent.match(/FxiOS/)}isBrowserIOSInAppFacebook(){return!!this.isDeviceIOS()&&window.navigator.userAgent.match(/FBAN|FBAV/)}isBrowserIOSInAppLinkedin(){return!!this.isDeviceIOS()&&window.navigator.userAgent.match(/LinkedInApp/)}isBrowserIOSInAppInstagram(){return!(!this.isDeviceIOS()||!window.document.referrer.match("//l.instagram.com/")&&!(window.navigator.userAgent.match(/iPhone/)&&window.screen.height&&window.outerHeight&&window.outerHeight<window.screen.height))}isBrowserIOSInAppThreads(){return this.isBrowserIOSInAppInstagram()}isBrowserIOSInAppTwitter(){return!!this.isDeviceIOS()&&window.document.referrer.match("//t.co/")}isBrowserAndroidChrome(){return this.isDeviceAndroid()&&window.navigator.userAgent.match(/Chrome/)&&!this.isBrowserAndroidFacebook()&&!this.isBrowserAndroidSamsung()&&!this.isBrowserAndroidFirefox()}isBrowserAndroidFacebook(){return this.isDeviceAndroid()&&window.navigator.userAgent.match(/FBAN|FBAV/)}isBrowserAndroidSamsung(){return this.isDeviceAndroid()&&window.navigator.userAgent.match(/SamsungBrowser/)}isBrowserAndroidFirefox(){return this.isDeviceAndroid()&&window.navigator.userAgent.match(/Firefox/)}show(){var e,t=!1;if(this.isStandAlone())return t=!1,new s.ReturnObj({isStandAlone:!0,canBeStandAlone:!0,device:this.isDeviceIOS()?s.PHONE_TYPE.IOS:s.PHONE_TYPE.ANDROID});if(this._hasReachedMaxModalDisplayCount())return t=!1,new s.ReturnObj({isStandAlone:null,canBeStandAlone:null,device:this.isDeviceIOS()?s.PHONE_TYPE.IOS:s.PHONE_TYPE.ANDROID});{t=!0,this._incrModalDisplayCount();const n=document.createElement("div");n.classList.add("adhs-container"),n.style.height=document.body.clientHeight+"px",n.style.width=window.innerWidth+"px",this.isDeviceIOS()?this.isBrowserIOSSafari()?(e=new s.ReturnObj({isStandAlone:!1,canBeStandAlone:!0,device:s.PHONE_TYPE.IOS}),this._genIOSSafari(n)):this.isBrowserIOSChrome()?(e=new s.ReturnObj({isStandAlone:!1,canBeStandAlone:!0,device:s.PHONE_TYPE.IOS}),this._genIOSChrome(n)):this.isBrowserIOSInAppFacebook()||this.isBrowserIOSInAppLinkedin()?(e=new s.ReturnObj({isStandAlone:!1,canBeStandAlone:!1,device:s.PHONE_TYPE.IOS}),this._genIOSInAppBrowserOpenInSystemBrowser(n)):this.isBrowserIOSInAppInstagram()||this.isBrowserIOSInAppThreads()||this.isBrowserIOSInAppTwitter()?(e=new s.ReturnObj({isStandAlone:!1,canBeStandAlone:!1,device:s.PHONE_TYPE.IOS}),this._genIOSInAppBrowserOpenInSafariBrowser(n)):(e=new s.ReturnObj({isStandAlone:!1,canBeStandAlone:!1,device:s.PHONE_TYPE.IOS}),this.showErrorMessageForUnsupportedBrowsers&s.SHOW_ERRMSG_UNSUPPORTED.MOBILE?this._genErrorMessage(n,"Please open this website with the Safari or Chrome app.","Adding to home screen is only supported in Safari or Chrome on IOS."):t=!1):this.isDeviceAndroid()?this.isBrowserAndroidChrome()?(e=new s.ReturnObj({isStandAlone:!1,canBeStandAlone:!0,device:s.PHONE_TYPE.ANDROID}),this._genAndroidChrome(n)):this.isBrowserAndroidFacebook()?(e=new s.ReturnObj({isStandAlone:!1,canBeStandAlone:!1,device:s.PHONE_TYPE.ANDROID}),this._genIOSInAppBrowserOpenInSystemBrowser(n)):(e=new s.ReturnObj({isStandAlone:!1,canBeStandAlone:!1,device:s.PHONE_TYPE.ANDROID}),this.showErrorMessageForUnsupportedBrowsers&s.SHOW_ERRMSG_UNSUPPORTED.MOBILE?this._genErrorMessage(n,"Please open this website with the Chrome app.","Adding to home screen is only supported in Chrome on Android."):t=!1):(e=new s.ReturnObj({isStandAlone:!1,canBeStandAlone:!1,device:""}),this.showErrorMessageForUnsupportedBrowsers&s.SHOW_ERRMSG_UNSUPPORTED.DESKTOP?this._genErrorMessage(n,"Please open this website on a mobile device.","Installing to your home screen is currently only supported on IOS and Android."):t=!1),t&&(document.body.appendChild(n),this._registerCloseListener(),setTimeout((()=>{n.classList.add("visible")}),50))}return e}close(){const s=document.querySelector(".adhs-container");s&&(s.classList.remove("visible"),setTimeout((()=>{s.remove(),this.closeEventListener&&(window.removeEventListener("touchstart",this.closeEventListener),window.removeEventListener("click",this.closeEventListener),this.closeEventListener=null)}),300))}_assertArg(s,e){if(!e)throw new Error("AddToHomeScreen: variable '"+s+"' has an invalid value.")}_genLogo(){return'\n      <div class="adhs-logo">\n        <img src="'+this.appIconUrl+'" alt="logo" />\n      </div>\n      '}_genErrorMessage(s,e,t){var n=this._genLogo()+this._genModalStart()+'<div class="adhs-error-title">'+e+'</div><div class="adhs-error-body">'+t+'</div><button class="adhs-error-copy-link-button" onclick="AddToHomeScreen.copyToClipboard();" ontouchstart="AddToHomeScreen.copyToClipboard();">Copy Website Link to Clipboard</button>'+this._genModalEnd();s.innerHTML=n}_genTitleWithMessage(s){return'\n      <div class="adhs-title">'+s+"</div>\n      "}_genTitle(){return this._genTitleWithMessage("Install the "+this.appName+" app to continue")}_genModalStart(){return'<div class="adhs-modal">'}_genModalEnd(){return"</div>"}_genListStart(){return'<div class="adhs-list">'}_genListEnd(){return"</div>"}_genListItem(s,e){return'\n    <div class="adhs-list-item">\n      <div class="adhs-number-container">\n        <div class="adhs-circle">\n          <div class="adhs-number">'+s+'</div>\n        </div>\n      </div>\n      <div class="adhs-instruction">'+e+"</div>\n    </div>"}_genAssetUrl(s){return this.assetUrl+s}_genIOSSafari(s){var e=this._genLogo()+this._genModalStart()+this._genTitle()+this._genListStart()+this._genListItem("1",'Tap the <img class="adhs-ios-safari-sharing-api-button" src="'+this._genAssetUrl("ios-safari-sharing-api-button.svg")+'"/> button below.')+this._genListItem("2",'Select <img class="adhs-ios-safari-add-to-home-screen-button" src="'+this._genAssetUrl("ios-safari-add-to-home-screen-button.svg")+'"/> from the menu that pops up. <span class="adhs-emphasis">You may need to scroll down to find this menu item.</span>')+this._genListItem("3",'Open the <img class="adhs-your-app-icon" src="'+this.appIconUrl+'"/> app.')+this._genListEnd()+this._genModalEnd()+'<div class="adhs-ios-safari-bouncing-arrow-container">\n      <img src="'+this._genAssetUrl("ios-safari-bouncing-arrow.svg")+'" alt="arrow" />\n    </div>';s.innerHTML=e,s.classList.add("adhs-ios"),s.classList.add("adhs-safari")}_genIOSChrome(s){var e=this._genLogo()+this._genModalStart()+this._genTitle()+this._genListStart()+this._genListItem("1",'Tap the <img class="adhs-ios-chrome-more-button" src="'+this._genAssetUrl("ios-chrome-more-button.svg")+'"/> button in the upper right corner.')+this._genListItem("2",'Select <img class="adhs-ios-chrome-add-to-home-screen-button" src="'+this._genAssetUrl("ios-chrome-add-to-home-screen-button.svg")+'"/> from the menu that pops up. <span class="adhs-emphasis">You may need to scroll down to find this menu item.</span></b>')+this._genListItem("3",'Open the <img class="adhs-your-app-icon" src="'+this.appIconUrl+'"/> app.')+this._genListEnd()+this._genModalEnd()+'<div class="adhs-ios-chrome-bouncing-arrow-container">\n      <img src="'+this._genAssetUrl("ios-chrome-bouncing-arrow.svg")+'" alt="arrow" />\n    </div>';s.innerHTML=e,s.classList.add("adhs-ios"),s.classList.add("adhs-chrome")}_genIOSInAppBrowserOpenInSystemBrowser(s){var e=this._genLogo()+this._genModalStart()+this._genTitle()+this._genListStart()+this._genListItem("1",'Tap the <img class="adhs-more-button" src="'+this._genAssetUrl("generic-more-button.svg")+'"/> button above.')+this._genListItem("2",'Tap <span class="adhs-emphasis">Open in browser</span>  .')+this._genListEnd()+this._genModalEnd()+'<div class="adhs-inappbrowser-openinsystembrowser-bouncing-arrow-container">\n      <img src="'+this._genAssetUrl("generic-vertical-up-bouncing-arrow.svg")+'" alt="arrow" />\n    </div>';s.innerHTML=e,s.classList.add("adhs-ios"),s.classList.add("adhs-inappbrowser-openinsystembrowser")}_genIOSInAppBrowserOpenInSafariBrowser(s){var e=this._genLogo()+this._genModalStart()+this._genTitle()+this._genListStart()+this._genListItem("1",'Tap the <img class="adhs-more-button" src="'+this._genAssetUrl("openinsafari-button.png")+'"/> button below to open your system browser.')+this._genListEnd()+this._genModalEnd()+'<div class="adhs-inappbrowser-openinsafari-bouncing-arrow-container">\n      <img src="'+this._genAssetUrl("generic-vertical-down-bouncing-arrow.svg")+'" alt="arrow" />\n    </div>';s.innerHTML=e,s.classList.add("adhs-ios"),s.classList.add("adhs-inappbrowser-openinsafari")}_genAndroidChrome(s){var e=this._genLogo()+this._genModalStart()+this._genTitle()+this._genListStart()+this._genListItem("1",'Tap the <img class="adhs-android-chrome-more-button" src="'+this._genAssetUrl("android-chrome-more-button.svg")+'"/> button in the browser bar.')+this._genListItem("2",'Tap <img class="adhs-android-chrome-add-to-homescreen-button" src="'+this._genAssetUrl("android-chrome-add-to-home-screen-button.svg")+'"/>or <img class="adhs-android-chrome-install-app" src="'+this._genAssetUrl("android-chrome-install-app.svg")+'"/> .')+this._genListItem("3",'Open the <img class="adhs-your-app-icon" src="'+this.appIconUrl+'"/> app.')+this._genListEnd()+this._genModalEnd()+'<div class="adhs-android-chrome-bouncing-arrow-container">\n      <img src="'+this._genAssetUrl("android-chrome-bouncing-arrow.svg")+'" alt="arrow" />\n    </div>';s.innerHTML=e,s.classList.add("adhs-android"),s.classList.add("adhs-chrome")}_registerCloseListener(){if(this.allowUserToCloseModal){var s=this;this.closeEventListener=function(e){document.getElementsByClassName("adhs-container")[0].getElementsByClassName("adhs-modal")[0].contains(e.target)||s.close()},window.addEventListener("touchstart",this.closeEventListener),window.addEventListener("click",this.closeEventListener)}}clearModalDisplayCount(){this._isEnabledModalDisplayCount()&&window.localStorage.removeItem("adhs-modal-display-count")}_isEnabledModalDisplayCount(){return"number"==typeof this.maxModalDisplayCount&&this.maxModalDisplayCount>=0&&window.localStorage}_hasReachedMaxModalDisplayCount(){return!!this._isEnabledModalDisplayCount()&&this._getModalDisplayCount()>=this.maxModalDisplayCount}_incrModalDisplayCount(){if(!this._isEnabledModalDisplayCount())return!1;var s=this._getModalDisplayCount();return s++,window.localStorage.setItem("adhs-modal-display-count",s),!0}_getModalDisplayCount(){var s=window.localStorage.getItem("adhs-modal-display-count");return null===s?(s=0,window.localStorage.setItem("adhs-modal-display-count",s)):s=parseInt(s),s}static copyToClipboard(){const s=window.location.href;try{window.navigator.clipboard.writeText(s),document.getElementsByClassName("adhs-error-copy-link-button")[0].innerHTML="Link Copied to Clipboard!"}catch(s){document.getElementsByClassName("adhs-error-copy-link-button")[0].innerHTML='Failed to Copy to Clipboard! (Try Again from "https://" Link)'}}}s.PHONE_TYPE={ANDROID:"ANDROID",IOS:"IOS"},s.SHOW_ERRMSG_UNSUPPORTED={NONE:0,MOBILE:1,DESKTOP:16,ALL:17},s.ReturnObj=class{constructor({isStandAlone:s,canBeStandAlone:e,device:t}){this.isStandAlone=s,this.canBeStandAlone=e,this.device=t}};const e=s;window.AddToHomeScreen=e,window.AddToHomescreen={}.default})();